<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="8" MadCap:lastHeight="1537" MadCap:lastWidth="1133">
    <head><title>Understanding Database Audit Settings</title>
        <link href="Resources/Stylesheets/Idera Stylesheet.css" rel="stylesheet" type="text/css" />
        <link href="Resources/TableStyles/Idera Table Stylesheet.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1 class="Heading1" MadCap:conditions="Default.ScreenOnly">Database-level audit settings</h1>
        <h2 class="Heading2" MadCap:conditions="Default.PrintOnly">Database-level audit settings</h2>
        <p class="Body" MadCap:conditions="">
            <MadCap:keyword term="auditing:database settings">
            </MadCap:keyword>You can specify which SQL events you want to audit at the database level. SQL&#160;Compliance&#160;Manager applies these settings to the audited database on the registered SQL Server instance. </p>
        <p class="Body">You can configure database audit settings when you add a new database or later as your auditing needs change. For more information about individual SQL events, see Microsoft SQL Server Books Online. </p>
        <p class="Body">SQL&#160;CM audits the following SQL events at the database level.</p>
        <table class="TableStyle-Idera_Table_Stylesheet" style="mc-table-style: url('Resources/TableStyles/Idera Table Stylesheet.css');caption-side: top;" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column2" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Event Class</th>
                    <th class="HeadE-Column2-Header1">SQL&#160;Server Version</th>
                    <th class="HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Add DB User</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when a database user is added or dropped from the audited database
</p>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Database Principal Management
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Add Member to DB Role</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when users are added to or removed from a database role</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Add Role</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when a database role is added to or removed from the audited database
</p>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Database Principal Management
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit App Role Change Password</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all application password changes</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Backup/Restore</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records BACKUP and RESTORE operations, including backups and restores performed through SQLsafe</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit DBCC</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all DBCC commands executed on the audited database</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Object Access</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when an operation, login, or application accesses a database object</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Object GDR</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all GRANT, REVOKE, or DENY actions on permissions for executing T-SQL statements on the audited database object</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Object Management</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all DROP, ALTER, and CREATE operations on database objects
</p>
                        <p class="TableText">In SQL Server 2000, this event class is Audit Object Derived Permission
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Object Take Ownership</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when ownership of an audited database object changes</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Operation</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all operations executed on an audited database</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Principal Management</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all DROP, ALTER, and CREATE operations on database principals</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Database Scope GDR</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all GRANT, REVOKE, or DENY actions on permissions for executing T-SQL statements on the audited database
</p>
                        <p class="TableText">In SQL Server 2000, this event class is Audit Statement GDR
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Object Derived Permission</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records ALTER, CREATE, and DROP commands executed on a database object, such as CREATE TABLE or ALTER TABLE
</p>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Database Object Management and Audit Schema Object Management
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Object GDR</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all GRANT, REVOKE, or DENY actions on user permissions for a database object
</p>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Schema Object GDR
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Object Permission</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records whether a user is authorized to execute the following commands on a database object:</p>
                        <ul style="list-style-type: circle;">
                            <li>SELECT ALL
</li>
                            <li>UPDATE ALL</li>
                            <li>REFERENCE ALL</li>
                            <li>	INSERT
</li>
                            <li>DELETE
</li>
                            <li>EXECUTE (stored procedures only)</li>
                        </ul>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Schema Object Access
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Schema Object Access</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records whether a user is authorized to execute the following commands on a schema object:
</p>
                        <ul style="list-style-type: circle;">
                            <li class="Bullet">SELECT ALL</li>
                            <li class="Bullet">	UPDATE ALL</li>
                            <li class="Bullet">REFERENCE ALL</li>
                            <li class="Bullet">INSERT</li>
                            <li class="Bullet">DELETE</li>
                            <li class="BulletLast">	EXECUTE (stored procedures only)
</li>
                        </ul>
                        <p class="TableText">In SQL Server 2000, this event class is Audit Object Permission
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Schema Object GDR</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all GRANT, REVOKE, or DENY actions on user permissions for a schema object
</p>
                        <p class="TableText">In SQL Server 2000, this event class is Audit Object GDR
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Schema Object Management</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records ALTER, CREATE, and DROP commands executed on a server object
</p>
                        <p class="TableText">In SQL Server 2000, this event class is Audit Object Derived Permission and Audit Statement Permission
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Schema Object Take Ownership</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2005 and later</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when the ALTER AUTHORIZATION statement is used to change ownership of a schema object</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Statement GDR</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records all GRANT, REVOKE, or DENY actions on permissions for executing T-SQL statements on the audited database
</p>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Database Scope GDR
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p class="TableText">Audit Statement Permission</p>
                    </td>
                    <td class="BodyE-Column2-Body1">
                        <p class="TableText">SQL Server 2000 only</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p class="TableText">Records when a user is authorized to execute a T-SQL statement on the audited database
</p>
                        <p class="TableText">In SQL Server 2005 and later, this event class is Audit Schema Object Management
</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">
                        <p class="TableText">SQL&#160;Transaction</p>
                    </td>
                    <td class="BodyB-Column2-Body1">
                        <p class="TableText">SQL Server 2000 and later</p>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p class="TableText">Records the status of explicit and implicit DML&#160;transactions executed in T-SQL scripts, including:</p>
                        <ul style="list-style-type: circle;">
                            <li class="Bullet">Begin</li>
                            <li class="Bullet">Commit</li>
                            <li class="Bullet">Rollback</li>
                            <li class="Bullet">Savepoint</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>